document.addEventListener("DOMContentLoaded",function(){(function(){var debug=true,ls=localStorage,i,conf,postArr,hash;conf={maxPostReload:5,maxIndexPosts:10};_=function(elem){elemSliced=elem.slice(1,elem.length);elemSelector=elem.charAt(0);returnNode=[];if(/[^\w#.-]/.test(elem)){getElements=document.querySelectorAll(elem);getLength=getElements.length;for(i=0;i<getElements.length;i++){returnNode.push(getElements[i])}}else{switch(elemSelector){case"#":returnNode.push(document.getElementById(elemSliced));break;case".":getClassNames=document.getElementsByClassName(elemSliced);for(i=0;i<getClassNames.length;i++){returnNode.push(getClassNames[i])}break;default:getTagNames=document.getElementsByTagName(elem);for(i=0;i<getTagNames.length;i++){returnNode.push(getTagNames[i])}break}}returnNodeFinal=returnNode.length>1?returnNode:returnNode[0];if(returnNodeFinal){return returnNodeFinal}else{return}};Element.prototype.addClass=function(className){_addClass=function(elem){if(elem.classList){elem.classList.add(className)}else{elem.className+=" "+className}};return _addClass(this)};Element.prototype.removeClass=function(className){_removeClass=function(elem){if(elem.classList){elem.classList.remove(className)}else{elem.className=elem.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}};return _removeClass(this)};Element.prototype.hide=function(){_hide=function(elem){elem.style.display="none"};return _hide(this)};loader=function(show){_self=_("#loading");if(show){_self.style.opacity="1";_self.style.display="block"}else{_self.style.opacity="0";_self.style.display="none"}};jumpTo=function(elem){theOffset=elem.getBoundingClientRect();window.scrollTo(0,theOffset.top+document.body.scrollTop-10)};log=function(arg){if(debug){console.log(arg)}};markActiveLinklist=function(hash){_(".linklistloop a").forEach(function(_self){if(_self.getAttribute("data-kat")===hash){_self.addClass("cat--active");setTimeout(function(){jumpTo(_self)},50)}else{_self.removeClass("cat--active")}})};checkRead=function(post,li){if(ls.getItem(post)){li.addClass("is-viewed");parseDate=new Date(ls.getItem(post));tag=parseDate.getDate();monat=parseDate.getMonth()+1;jahr=parseDate.getFullYear();li.querySelectorAll(".post--read")[0].textContent="Gelesen am: "+tag+"."+monat+"."+jahr+" | "}};router={routes:[],add:function(hash,func){this.routes.push({re:hash,func:func});return this},checker:function(hash){for(var i in this.routes){var match=hash.match(this.routes[i].re);if(match){match.shift();this.routes[i].func.apply({},match);return this}}loader(false);if(_("#indexContainer")&&!hash){this.parser("index","Die neusten Beiträge",true)}},parser:function(hash,title,isIndex){_("#searchWrapper").style.display="none";markActiveLinklist(hash);hashNice=hash.charAt(0).toUpperCase()+hash.slice(1,hash.length);title=title||hashNice;loader(true);postList=_(".post--list");postContainer=_("#post--list__container");pageHeading=_("#page-heading");loadmoreButton=_("#loadmoreajax");loadmoreButton.style.display="none";pageHeading.addClass("opacity-0");pageHeading.textContent=title;postList.innerHTML="";postContainer.addClass("opacity-0");if(hash==="suche"){postContainer.removeClass("opacity-0");searchRender();return}xhr=new XMLHttpRequest;xhr.onreadystatechange=function(e){if(xhr.readyState==4&&xhr.status==200){post=JSON.parse(xhr.responseText,"text/json");numCat=0;postArr=[];postLoopFinished=false;for(var i=0;i<post.length;i++){if(post[i].category===hash||isIndex||hash==="alle"){if(numCat<conf.maxIndexPosts){_(".post--list").innerHTML+=post[i].card;numCat++}postArr.push(post[i].card)}}_(".post--list li").forEach(function(post,i){checkRead(post.getAttribute("data-read"),post)});loader(false);pageHeading.removeClass("opacity-0");postContainer.removeClass("opacity-0");if(_(".post--list li").length<conf.maxIndexPosts){loadmoreButton.style.display="none"}else{loadmoreButton.style.display="block"}}};loadmoreButton.onclick=function(e){e.preventDefault();e.stopPropagation();postListLI=_(".post--list li");if(isIndex&&location.hash!="alle"){location.hash="alle"}var showDelayTime=0;showDelay=function(p,t){setTimeout(function(){_(".post--list li")[p].removeClass("displayNone")},t)};for(var i=0;i<conf.maxPostReload;i++){_(".post--list").innerHTML+=postArr[numCat];_(".post--list li")[numCat].addClass("displayNone");showDelayTime+=100;showDelay(numCat,showDelayTime);numCat++;if(!postArr[numCat]){loadmoreButton.style.display="none";return}}_(".post--list li").forEach(function(post,i){checkRead(post.getAttribute("data-read"),post)});return};progressBar.style.display="block";progressBar.style.width="5%";xhr.addEventListener("progress",function(_self){var progressBar=_("#progressBar");if(_self.lengthComputable){var percentComplete=Math.floor(_self.loaded/_self.total*100);progressBar.style.width=percentComplete+"%";if(percentComplete===100){setTimeout(function(){progressBar.style.display="none"},350)}}});xhr.open("GET",postJSONCache,true);xhr.send()}}})();var kontaktSenden=_("#SENDEN"),kontaktMessageError=_("#form_msg_error"),kontaktMessage=_("#form_msg"),kontaktForm=_(".kontakt__form"),kontaktPostContent=_(".post--content"),kontaktLoading=_("#loading");if(kontaktLoading)kontaktLoading.style.opacity="0";kontaktSubmit=function(){jumpTo(kontaktMessage);var kontaktName=_("#name"),kontaktMail=_("#xyz"),kontaktNachricht=_("#msg");kontaktName.removeClass("form__error");kontaktMail.removeClass("form__error");kontaktNachricht.removeClass("form__error");kontaktLoading.style.opacity="1";kontaktSenden.style.display="none";kontaktMessage.innerHTML="";var data=new FormData;data.append("name",kontaktName.value);data.append("xyz",kontaktMail.value);data.append("msg",kontaktNachricht.value);var xhr=new XMLHttpRequest;xhr.open("POST","mailajax.php",true);xhr.onload=function(){_self=JSON.parse(this.responseText);if(!_self.success){kontaktLoading.style.opacity="0";if(_self.errors.name){kontaktMessageError.innerHTML='<span class="kontakt__error">'+_self.errors.name+"</span>";kontaktMessageError.style.display="";kontaktSenden.style.display="";if(_self.errors.badmail){kontaktMail.addClass("form__error")}if(_self.errors.badname){kontaktName.addClass("form__error")}if(_self.errors.badmsg){kontaktNachricht.addClass("form__error")}}}else{kontaktLoading.style.opacity="0";kontaktMessageError.style.display="none";kontaktForm.style.display="none";if(!_self.phpmail_bad){kontaktPostContent.style.display="none";kontaktMessage.innerHTML='<span class="kontakt__success">Danke für deine eMail!</span>'}else{kontaktMessageError.style.display="";kontaktMessageError.innerHTML='<span class="kontakt__error">Es gab ein Problem mit unseren eMail-Server. Bitte versuch es später nochmal oder schreibe direkt an mail@glossboss.de</span>'}}};xhr.send(data)};if(kontaktSenden){kontaktSenden.addEventListener("click",function(e){e.preventDefault();kontaktSubmit()})}var linklist=_("#linklist"),linklistAnchor=_("#linklist a"),toggleMenuBox=_("#toggleMenu"),docHeight=window.innerHeight,docWidth=window.innerWidth,contOverlay=_("#containeroverlay"),contOverlayInner=_("#containeroverlay-inner"),contOverlayClose=_("#closeOverlay"),contImage=_(".post--content p img"),breadtop=_(".hamburger li:nth-child(1)"),beef=_(".hamburger li:nth-child(2)"),breadbottom=_(".hamburger li:nth-child(3)"),linklistMaxHeight="230px",postsToLoad=_(".post--list li"),dellocalStorage=_(".dellocalStorage"),localStorageContainer=_(".localStorageContainer"),shareCounter=_("#sharecounter"),searchModal=_(".open_search");activeScrollResize=false;linklist.style.maxHeight=linklistMaxHeight;if(postsToLoad){postsToLoad.forEach(function(post){checkRead(post.getAttribute("data-read"),post)})}function hamburgerToggle(){if(toggleMenuBox.checked){linklist.style.maxHeight=linklistMaxHeight;breadbottom.addClass("hidden");breadtop.addClass("rot45deg");beef.addClass("rot-45deg")}else{linklist.style.maxHeight="0";breadbottom.removeClass("hidden");breadtop.removeClass("rot45deg");beef.removeClass("rot-45deg")}}function updateMenu(){docHeight=window.innerHeight;docWidth=window.innerWidth;if(docWidth>=750){linklist.style.maxHeight=linklistMaxHeight}else{hamburgerToggle()}}updateMenu();linklistAnchor.forEach(function(_self){anchor=_self.getAttribute("href");_self.setAttribute("href","/#"+anchor.slice(1,anchor.length));_self.addEventListener("click",function(){toggleMenuBox.click()})});searchRender=function(){_("#searchWrapper").style.display="block";SimpleJekyllSearch.init({searchInput:document.getElementById("search-input"),resultsContainer:document.getElementById("results-container"),dataSource:"/posts.json",searchResultTemplate:"{card}",noResultsText:'<li>Nichts passendes dabei. Hast du eine Idee für einen Artikel? <a style="text-align:center" href="mailto:mail@glossboss.de">Kontaktiere uns!</a></li>',limit:25,fuzzy:false});loader(false)};toggleMenuBox.addEventListener("click",function(e){updateMenu()});window.addEventListener("resize",function(){updateMenu()});(function(sc){if(sc){xhr=new XMLHttpRequest;xhrSliced=new XMLHttpRequest;getSharesUrl="https://graph.facebook.com/"+window.location.href;getSharesUrlSliced=getSharesUrl.slice(0,getSharesUrl.length-1);sharesOutput="";getSharesCount=0;xhr.onreadystatechange=function(e){if(xhr.readyState==4&&xhr.status==200){getShares=JSON.parse(xhr.responseText);if(getShares.shares>1){getSharesCount+=getShares.shares;log(getSharesCount)}}};xhrSliced.onreadystatechange=function(e){if(xhrSliced.readyState==4&&xhrSliced.status==200){getSharesSliced=JSON.parse(xhrSliced.responseText);if(getSharesSliced.shares>1){getSharesCount+=getSharesSliced.shares;log(getSharesCount)}}};if(getSharesSliced&&getShares){sharesOutput+=getSharesCount;if(getSharesCount>1){sharesOutput+=" Glossbosse haben"}else{sharesOutput+=" Glossboss hat"}sharesOutput+=" diesen Beitrag bereits geteilt"}else{sharesOutput="Sei der erste der diesen Beitrag teilt!"}shareCounter.innerText=sharesOutput;xhr.open("GET",getSharesUrl);xhr.send();xhrSliced.open("GET",getSharesUrlSliced);xhrSliced.send()}})(shareCounter);(function(lsc){if(lsc){for(var i=0;i<localStorage.length;i++){localStorageContainer.innerHTML+="<li>"+localStorage.key(i)+" - "+localStorage.getItem(localStorage.key(i))+"</li>"}if(localStorage.length===0){localStorageContainer.innerHTML="Keine Daten vorhanden.";dellocalStorage.hide()}dellocalStorage.addEventListener("click",function(e){e.preventDefault();localStorage.clear();localStorageContainer.innerHTML="Alle Daten erfolgreich gelöscht!"})}})(localStorageContainer);WebFontConfig={google:{families:["Roboto::latin"]}};(function(){var wf=document.createElement("script");wf.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";wf.type="text/javascript";wf.async="true";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(wf,s)})();var teil1=_("#mischungInput1"),teil2=_("#mischungInput2"),ergebnis=_("#mischungResult"),ergebnisML=_("#mischung--highlight"),getMischungInputs=_("#mischungsrechner input"),header=_("#mischung--heading"),predefinedMischung=_(".mischungenpredefined");updateMischung=function(predefined){flascheVal=_('input[type="radio"]:checked');if(predefined){teil1.value=predefined.teil1;teil2.value=predefined.teil2}if(teil1.value&&teil2.value&&flascheVal.value){if(ergebnis.style.display!=="block")jumpTo(header);gesamt=parseInt(teil1.value)+parseInt(teil2.value);step=flascheVal.value/gesamt;result1=Math.round(step*teil1.value).toFixed(2);result2=Math.round(step*teil2.value).toFixed(2);result1Finish=result1.slice(0,result1.length-3);result2Finish=result2.slice(0,result2.length-3);ergebnis.style.display="block";ergebnis.style.background="#49fb35";setTimeout(function(){ergebnis.addClass("mischungsDelay");ergebnis.style.background="#fff"},100);ergebnisML.innerHTML=result1Finish+"ml:"+result2Finish+"ml"}};if(getMischungInputs){predefinedMischung.forEach(function(_self){_self.addEventListener("click",function(){content=_self.innerHTML.split(":");preDefinedvalues={teil1:content[0],teil2:content[1]};updateMischung(preDefinedvalues)})});getMischungInputs.forEach(function(el){el.addEventListener("change",function(){ergebnis.removeClass("mischungsDelay");updateMischung()})})}router.add("allgemein",function(){router.parser("allgemein")});router.add("anleitung",function(){router.parser("anleitungen")});router.add("pflegeberichte",function(){router.parser("pflegeberichte")});router.add("tipps-tricks",function(){router.parser("tipps-tricks","Tipps & Tricks")});router.add("produkttest",function(){router.parser("produkttest")});router.add("suche",function(){router.parser("suche")});router.add("alle",function(){router.parser("alle","Alle Beiträge");setTimeout(function(){jumpTo(_("#loadmoreajax"));_("#loadmoreajax").click()},50)});window.addEventListener("hashchange",function(){loader(true);router.checker(location.hash)});window.addEventListener("load",function(){loader(true);router.checker(location.hash)});!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=function(){function receivedResponse(xhr){return 200==xhr.status&&4==xhr.readyState}function handleResponse(xhr,callback){xhr.onreadystatechange=function(){if(receivedResponse(xhr))try{callback(null,JSON.parse(xhr.responseText))}catch(err){callback(err,null)}}}var self=this;self.load=function(location,callback){var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");xhr.open("GET",location,!0),handleResponse(xhr,callback),xhr.send()}}},{}],2:[function(require,module){function FuzzySearchStrategy(){function createFuzzyRegExpFromString(string){return new RegExp(string.split("").join(".*?"),"gi")}var self=this;self.matches=function(string,crit){return"string"!=typeof string?!1:(string=string.trim(),!!string.match(createFuzzyRegExpFromString(crit)))}}module.exports=new FuzzySearchStrategy},{}],3:[function(require,module){function LiteralSearchStrategy(){function doMatch(string,crit){return string.toLowerCase().indexOf(crit.toLowerCase())>=0}var self=this;self.matches=function(string,crit){return"string"!=typeof string?!1:(string=string.trim(),doMatch(string,crit))}}module.exports=new LiteralSearchStrategy},{}],4:[function(require,module){module.exports=function(){function findMatches(store,crit,strategy){for(var data=store.get(),i=0;i<data.length&&matches.length<limit;i++)findMatchesInObject(data[i],crit,strategy);return matches}function findMatchesInObject(obj,crit,strategy){for(var key in obj)if(strategy.matches(obj[key],crit)){matches.push(obj);break}}function getSearchStrategy(){return fuzzy?fuzzySearchStrategy:literalSearchStrategy}var self=this,matches=[],fuzzy=!1,limit=10,fuzzySearchStrategy=require("./SearchStrategies/fuzzy"),literalSearchStrategy=require("./SearchStrategies/literal");self.setFuzzy=function(_fuzzy){fuzzy=!!_fuzzy},self.setLimit=function(_limit){limit=parseInt(_limit,10)||limit},self.search=function(data,crit){return crit?(matches.length=0,findMatches(data,crit,getSearchStrategy())):[]}}},{"./SearchStrategies/fuzzy":2,"./SearchStrategies/literal":3}],5:[function(require,module){module.exports=function(_store){function isObject(obj){return!!obj&&"[object Object]"==Object.prototype.toString.call(obj)}function isArray(obj){return!!obj&&"[object Array]"==Object.prototype.toString.call(obj)}function addObject(data){return store.push(data),data}function addArray(data){for(var added=[],i=0;i<data.length;i++)isObject(data[i])&&added.push(addObject(data[i]));return added}var self=this,store=[];isArray(_store)&&addArray(_store),self.clear=function(){return store.length=0,store},self.get=function(){return store},self.put=function(data){return isObject(data)?addObject(data):isArray(data)?addArray(data):void 0}}},{}],6:[function(require,module){module.exports=function(){var self=this,templatePattern=/\{(.*?)\}/g;self.setTemplatePattern=function(newTemplatePattern){templatePattern=newTemplatePattern},self.render=function(t,data){return t.replace(templatePattern,function(match,prop){return data[prop]||match})}}},{}],7:[function(require){!function(window){"use strict";function SimpleJekyllSearch(){function initWithJSON(){store.put(opt.dataSource),registerInput()}function initWithURL(url){jsonLoader.load(url,function(err,json){err?throwError("failed to get JSON ("+url+")"):(store.put(json),registerInput())})}function throwError(message){throw new Error("SimpleJekyllSearch --- "+message)}function validateOptions(_opt){for(var i=0;i<requiredOptions.length;i++){var req=requiredOptions[i];_opt[req]||throwError("You must specify a "+req)}}function assignOptions(_opt){for(var option in opt)opt[option]=_opt[option]||opt[option]}function isJSON(json){try{return json instanceof Object&&JSON.parse(JSON.stringify(json))}catch(e){return!1}}function emptyResultsContainer(){opt.resultsContainer.innerHTML=""}function appendToResultsContainer(text){opt.resultsContainer.innerHTML+=text}function registerInput(){opt.searchInput.addEventListener("keyup",function(e){return 0==e.target.value.length?void emptyResultsContainer():void render(searcher.search(store,e.target.value))})}function render(results){if(emptyResultsContainer(),0==results.length)return appendToResultsContainer(opt.noResultsText);for(var i=0;i<results.length;i++)appendToResultsContainer(templater.render(opt.searchResultTemplate,results[i]))}var self=this,requiredOptions=["searchInput","resultsContainer","dataSource"],opt={searchInput:null,resultsContainer:null,dataSource:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',noResultsText:"No results found",limit:10,fuzzy:!1};self.init=function(_opt){validateOptions(_opt),assignOptions(_opt),isJSON(opt.dataSource)?initWithJSON(opt.dataSource):initWithURL(opt.dataSource)}}var Searcher=require("./Searcher"),Templater=require("./Templater"),Store=require("./Store"),JSONLoader=require("./JSONLoader"),searcher=new Searcher,templater=new Templater,store=new Store,jsonLoader=new JSONLoader;window.SimpleJekyllSearch=new SimpleJekyllSearch}(window,document)},{"./JSONLoader":1,"./Searcher":4,"./Store":5,"./Templater":6}]},{},[7])});